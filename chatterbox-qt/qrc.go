package main

// This file is automatically generated by gopkg.in/qml.v1/cmd/genqrc

import (
	"io/ioutil"
	"os"
	"path/filepath"

	"gopkg.in/qml.v1"
)

func init() {
	var r *qml.Resources
	var err error
	if os.Getenv("QRC_REPACK") == "1" {
		err = qrcRepackResources()
		if err != nil {
			panic("cannot repack qrc resources: " + err.Error())
		}
		r, err = qml.ParseResources(qrcResourcesRepacked)
	} else {
		r, err = qml.ParseResourcesString(qrcResourcesData)
	}
	if err != nil {
		panic("cannot parse bundled resources data: " + err.Error())
	}
	qml.LoadResources(r)
}

func qrcRepackResources() error {
	subdirs := []string{"qml"}
	var rp qml.ResourcesPacker
	for _, subdir := range subdirs {
		err := filepath.Walk(subdir, func(path string, info os.FileInfo, err error) error {
			if err != nil {
				return err
			}
			if info.IsDir() {
				return nil
			}
			data, err := ioutil.ReadFile(path)
			if err != nil {
				return err
			}
			rp.Add(filepath.ToSlash(path), data)
			return nil
		})
		if err != nil {
			return err
		}
	}
	qrcResourcesRepacked = rp.Pack().Bytes()
	return nil
}

var qrcResourcesRepacked []byte
var qrcResourcesData = "qres\x00\x00\x00\x01\x00\x00\x10\xf3\x00\x00\x00\x14\x00\x00\x10o\x00\x00\x04\x12import QtQuick 2.2\nimport QtQuick.Controls 1.1\nimport QtQuick.Layouts 1.1\n\n\nApplicationWindow {\n\tid: conversationWindow\n    visible: true\n    title: \"Chatterbox Conversation\"\n\n\tsignal sendMessage(string message)\n\tAction {\n\t\tid: sendMessage\n\t\ttext: \"Send &Message\"\n\t\tshortcut: \"Ctrl+Return\"\n\t\tonTriggered: {\n\t\t\tconversationWindow.sendMessage(inputArea.text);\n\t\t\tinputArea.remove(0, inputArea.length);\n\t\t}\n\t}\n\n\tSplitView {\n        id: mainLayout\n\t\tanchors.fill: parent\n\t\torientation: Qt.Vertical\n\n\t\tTextArea {\n\t\t\tid: historyArea\n\t\t\tobjectName: \"historyArea\"\n\t\t\tLayout.fillHeight: true\n\n\t\t\treadOnly: true\n\t\t\twrapMode: TextEdit.Wrap\n\t\t\ttextFormat: TextEdit.RichText\n\t\t\tverticalAlignment: TextEdit.AlignTop\n\t\t}\n\n\t\tTextArea {\n\t\t\tid: inputArea \n\t\t\tobjectName: \"inputArea\"\n\t\t\tLayout.minimumHeight: 18\n\t\t\tLayout.preferredHeight: 36\n\n\t\t\ttext: \"Ctrl + Enter to send a message.\"\n\t\t\ttextFormat: TextEdit.PlainText\n\t\t\twrapMode: TextEdit.Wrap\n\n\t\t\tfocus: true\n\t\t\tComponent.onCompleted: {\n\t\t\t\tinputArea.selectAll()\n\t\t\t\tinputArea.height = 36;\n\t\t\t}\n\t\t}\n    }\n}\n\x00\x00\x06wimport QtQuick 2.2\nimport QtQuick.Controls 1.1\nimport QtQuick.Layouts 1.1\n\nApplicationWindow {\n\tid: historyWindow\n\n    visible: true\n    title: \"History\"\n    property int margin: 5\n    width: mainLayout.implicitWidth + 2 * margin\n    height: mainLayout.implicitHeight + 2 * margin\n    minimumWidth: mainLayout.Layout.minimumWidth + 40 * margin\n    minimumHeight: mainLayout.Layout.minimumHeight + 12 * margin\n\n\tListModel {\n\t    id: sourceModel\n\t\tobjectName: \"listModel\"\n\n\t\tfunction addItem(json) {\n\t\t\tvar parsed = JSON.parse(json);\n\t\t\t// TODO represents participants using some QML-(color?)-delimited thing, comma-separated encoding is not reversible\n\t\t\tappend({Subject: parsed.Subject, Participants:parsed.Participants.toString()});\n\t\t}\n\t}\n\n\n    ColumnLayout {\n        id: mainLayout\n        anchors.fill: parent\n        anchors.margins: margin\n\n\t    TableView {\n\t        id: tableView\n\t        objectName: \"table\"\n\n\t        focus:true\n\t        frameVisible: true\n\t        sortIndicatorVisible: false\n\n\t        model: sourceModel\n\t\t\tLayout.fillHeight: true\n\t\t\tLayout.fillWidth: true\n\n\t        TableViewColumn {\n\t            id: usersColumn\n\t            title: \"Participants\"\n\t            role: \"Participants\"\n\t            movable: false\n\t        }\n\n\t        TableViewColumn {\n\t            id: subjectColumn\n\t            title: \"Subject\"\n\t            role: \"Subject\"\n\t            movable: false\n\t        }\n\t    }\n\n\t\tButton {\n\t\t\tid: newConversationButton\n\t        objectName: \"newConversationButton\"\n\t\t\taction: newConversation\n\t\t}\n    }\n\n\tAction {\n\t\tid: newConversation\n\t\tobjectName: \"newConversation\"\n\t\ttext: \"&New Conversation\"\n\t\tshortcut: \"Ctrl+N\"\n\t}\n}\n\x00\x00\x05\xc6import QtQuick 2.2\nimport QtQuick.Controls 1.1\nimport QtQuick.Layouts 1.1\n\n\nApplicationWindow {\n\tid: newConversationWindow\n    visible: true\n    title: \"New Conversation\"\n    property int margin: 5\n    width: mainLayout.implicitWidth + 2 * margin\n    height: mainLayout.implicitHeight + 2 * margin\n    minimumWidth: mainLayout.Layout.minimumWidth + 40 * margin\n    minimumHeight: mainLayout.Layout.minimumHeight + 12 * margin\n\n    function closeWindow() {\n    \tnewConversationWindow.close();\n    }\n\n\tAction {\n\t\tid: sendMessage\n\t\tobjectName: \"sendMessage\"\n\t\ttext: \"Send &Message\"\n\t\tshortcut: \"Ctrl+Return\"\n\t}\n\n    ColumnLayout {\n        id: mainLayout\n        anchors.fill: parent\n        anchors.margins: margin\n\t\tRowLayout {\n\t\t\tText {text: \"To:\"}\n\t\t\t\tTextField {\n\t\t\t\t\tid: toField\n\t\t\t\t\tobjectName: \"toField\"\n\t\t\t\t\tfocus: true\n\t\t\t\t\tplaceholderText: \"dename names, comma-separated\"\n\t\t\t\t\tLayout.fillWidth: true\n\t\t\t\t\tonAccepted: {subjectField.focus = true}\n\t\t\t\t}\n\t\t}\n\n\t\tRowLayout {\n\t\t\tText {text: \"Subject:\"}\n\t\t\t\tTextField {\n\t\t\t\t\tid: subjectField\n\t\t\t\t\tobjectName: \"subjectField\"\n\t\t\t\t\tLayout.fillWidth: true\n\t\t\t\t\tonAccepted: {messageArea.focus = true}\n\t\t\t\t}\n\t\t}\n\n\n\t\tTextArea {\n\t\t\tid: messageArea \n\t\t\tobjectName: \"messageArea\"\n\t\t\ttext: \"Ctrl + Enter to send a message.\"\n\t\t\tLayout.minimumHeight: 10\n\t\t\tLayout.fillWidth: true\n\t\t\tLayout.fillHeight: true\n\t\t\ttextFormat: TextEdit.PlainText\n\t\t\twrapMode: TextEdit.Wrap\n\t\t\tComponent.onCompleted: {\n\t\t\t\tmessageArea.selectAll()\n\t\t\t}\n\t\t}\n    }\n}\n\x00\x03\x00\x00x<\x00q\x00m\x00l\x00\x14\x00<\xd7|\x00o\x00l\x00d\x00-\x00c\x00o\x00n\x00v\x00e\x00r\x00s\x00a\x00t\x00i\x00o\x00n\x00.\x00q\x00m\x00l\x00\v\x06FE\\\x00h\x00i\x00s\x00t\x00o\x00r\x00y\x00.\x00q\x00m\x00l\x00\x14\a|\xd6|\x00n\x00e\x00w\x00-\x00c\x00o\x00n\x00v\x00e\x00r\x00s\x00a\x00t\x00i\x00o\x00n\x00.\x00q\x00m\x00l\x00\x00\x00\x00\x00\x02\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x00\x00\x02\x00\x00\x00\x03\x00\x00\x00\x02\x00\x00\x00\f\x00\x00\x00\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00:\x00\x00\x00\x00\x00\x01\x00\x00\x04\x16\x00\x00\x00V\x00\x00\x00\x00\x00\x01\x00\x00\n\x91"
